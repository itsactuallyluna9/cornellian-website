---
import { Image } from 'astro:assets';

const { name, pronouns, image } = Astro.props;
---
<div class="bg-base-50 dark:bg-base-850 rounded-xl px-8 py-4 m-2 sm:flex">
    <div class="sm:w-2/3">
        <div class="flex justify-center items-center">
            <p class="text-xl font-semibold p-1">{name}</p>
            <p class="text-lg p-1">({pronouns})</p>
        </div>
        <div class="prose dark:prose-invert prose-paper mr-4">
            <slot />
        </div>
    </div>
    <div class="sm:w-1/3 justify-center">
        <Image src={image} inferSize={true} alt={name} class="rounded-xl random-rotate border-paper border-4 drop-shadow-sm" />
    </div>
</div>
<script>
    document.addEventListener('astro:page-load', () => {
        console.log('Page loaded');
        const elements = document.getElementsByClassName('random-rotate')
        for (let i = 0; i < elements.length; i++) {
            elements[i].classList.add(Math.random() > 0.5 ? 'sm:rotate-1' : 'sm:-rotate-1');
        }
        for (let i = 0; i < elements.length; i++) {
            elements[i].classList.remove('random-rotate');
        }
    })
</script>
